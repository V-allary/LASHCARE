<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Appointment | Lashcare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
 
</head>
<body>
<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg fixed-top bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img src="lashcarelogo.jpeg" alt="Lashcare" height="40">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="academy.html">Academy</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#services">Services</a></li>
        <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>
   <!-- BOOKING HERO -->
<section class="booking-hero">
  <div class="booking-hero-overlay">
    <div class="container text-center">
      <h1 data-aos="fade-up">Book Your Appointment</h1>
      <p data-aos="fade-up" data-aos-delay="100">
        Secure your slot with Lashcare Today
      </p>
    </div>
  </div>
</section>
<section class="booking-page">
  <div class="container">
    <div class="row justify-content-center">
      
      <div class="col-md-6 text-center">
        <h1>Book Your Appointment</h1>
        <p class="booking-intro">
          Schedule your lash or beauty service with Lashcare.
          Please fill in the details below and we‚Äôll confirm your appointment.
        </p>

        <form class="booking-form">

          <input type="text" class="form-control mb-3" placeholder="Full Name" required>
          <input type="email" class="form-control mb-3" placeholder="Email Address" required>
          <input type="tel" class="form-control mb-3" placeholder="Phone Number" required>

          <select id="lashService" class="form-control mb-3" required>
            <option value="">Select Lash Service</option>
          
            <!-- FULL SETS -->
            <option value="5500">Classic Lashes ‚Äì KES 5,500</option>
            <option value="5500">Subtle Hybrid Lashes ‚Äì KES 5,500</option>
            <option value="6000">Hybrid Lashes ‚Äì KES 6,000</option>
            <option value="6000">Volume Lashes ‚Äì KES 6,000</option>
            <option value="6500">Wispy Lashes ‚Äì KES 6,500</option>
            <option value="7000">Mega Volume Lashes ‚Äì KES 7,000</option>
          
            <!-- INFILLS -->
            <option value="3500">Classic Infill ‚Äì KES 3,500</option>
            <option value="3500">Subtle Hybrid Infill ‚Äì KES 3,500</option>
            <option value="4000">Volume Infill ‚Äì KES 4,000</option>
            <option value="4000">Wispy Infill ‚Äì KES 4,000</option>
            <option value="4500">Mega Volume Infill ‚Äì KES 4,500</option>
          
            <!-- EXTRAS -->
            <option value="1000">Lash Removal ‚Äì KES 1,000</option>
            <option value="7000">After-Hours Service (After 6pm) ‚Äì KES 7,000</option>
            <option value="500">Brow Threading ‚Äì KES 500</option>
          </select>
 
          <div class="price-box mb-3">
            <p><strong>Total:</strong> KES <span id="totalAmount">0</span></p>
            <p><strong>Pay Now (50%):</strong> KES <span id="depositAmount">0</span></p>
            <p class="text-muted">Balance payable on appointment day</p>
          </div>

          <button type="button" id="payLashBtn" class="btn btn-dark w-100" disabled>
            Pay 50% Deposit ‚Äì Lash Services
          </button>
 
        <a href="index.html" class="back-link">‚Üê Back to Home</a>
      </div>

    </div>

    <div id="paymentSuccess" class="payment-success d-none">
      <h3>Payment Successful üéâ</h3>
      <p>
        Your deposit has been received successfully.
        Our team will contact you shortly to confirm the details.
      </p>
      <p class="text-muted">
        Thank you for choosing Lashcare.
      </p>
    </div>
  </div>
</section>

<!-- FAINT DIVIDER -->
<div class="section-divider"></div>

<!-- CONTACT + FOOTER WRAPPER -->
<section class="contact-footer-wrapper">

  <!-- CONTACT SECTION -->
  <section id="contact" class="contact-section">
    <div class="container text-center">
      <h2>Contact Us</h2>
      <p class="contact-intro">
        Get in touch with Lashcare for bookings and inquiries.
      </p>

      <div class="contact-details">

        <p>
          <i class="fa-solid fa-location-dot"></i>
          Adlife Plaza Kilimani, ‚Äì 1st Floor, Nairobi Kenya
        </p>

        <p>
          <i class="fa-solid fa-phone"></i>
          +254 XXX XXX XXX
        </p>

        <p>
          <i class="fa-brands fa-whatsapp"></i>
          +254 XXX XXX XXX
        </p>

      </div>
      <!-- OPENING HOURS -->
<div class="opening-hours">
  <p>
    <i class="fa-regular fa-clock"></i>
    <strong>Opening Hours</strong>
  </p>
  <p>Monday ‚Äì Saturday: 9:00 AM ‚Äì 7:00 PM</p>
  <p>Sunday: Closed</p>
</div>

      <!-- SOCIAL ICONS -->
      <div class="contact-socials">
        <a href="https://www.instagram.com/lashcarekenya?igsh=MXNiNm55Y3ExeHE0cA==" aria-label="Instagram">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="#" aria-label="WhatsApp">
          <i class="fa-brands fa-whatsapp"></i>
        </a>
      </div>

    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <p>¬© 2026 Lashcare. All Rights Reserved.</p>
  </footer>

</section>
<script>
  document.addEventListener("DOMContentLoaded", () => {
  
    const lashServiceSelect = document.getElementById("lashService");
    const totalAmountEl = document.getElementById("totalAmount");
    const depositAmountEl = document.getElementById("depositAmount");
    const payLashBtn = document.getElementById("payLashBtn");
  
    const nameInput  = document.querySelector('input[placeholder="Full Name"]');
    const emailInput = document.querySelector('input[placeholder="Email Address"]');
    const phoneInput = document.querySelector('input[placeholder="Phone Number"]');
  
    if (!lashServiceSelect || !payLashBtn) return;

    lashServiceSelect.addEventListener("change", () => {
      const total = parseInt(lashServiceSelect.value, 10);
  
      if (isNaN(total) || total <= 0) {
        totalAmountEl.textContent = "0";
        depositAmountEl.textContent = "0";
        payLashBtn.disabled = true;
        return;
      }
  
      const deposit = total / 2;
  
      totalAmountEl.textContent = total.toLocaleString();
      depositAmountEl.textContent = deposit.toLocaleString();
  
      payLashBtn.dataset.total = total;
      payLashBtn.dataset.amount = deposit;
      payLashBtn.dataset.service =
        lashServiceSelect.options[lashServiceSelect.selectedIndex].text;
  
      payLashBtn.disabled = false;
    });

    payLashBtn.addEventListener("click", async () => {
  
      const name  = nameInput.value.trim();
      const email = emailInput.value.trim();
      const phone = phoneInput.value.trim();
  
      if (!name || !email || !phone) {
        alert("Please fill in all required fields.");
        return;
      }
  
      if (!payLashBtn.dataset.amount) {
        alert("Please select a service.");
        return;
      }
  
      const bookingData = {
        name,
        email,
        phone,
        service: payLashBtn.dataset.service,
        total: payLashBtn.dataset.total,
        deposit: payLashBtn.dataset.amount,
        type: "lash"
      };
  
      try {
        const notifyRes = await fetch("/notify-booking", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(bookingData)
        });
  
        const notifyData = await notifyRes.json();
  
        if (!notifyData.success) {
          alert("Failed to submit booking. Please try again.");
          return;
        }
        const paymentRes = await fetch("/create-payment", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            amount: bookingData.deposit,
            phone: bookingData.phone,
            description: bookingData.service + " deposit"
          })
        });
  
        const paymentData = await paymentRes.json();
  
        if (paymentData.redirect_url) {
          window.location.href = paymentData.redirect_url;
        } else {
          alert("Unable to start payment.");
        }
  
      } catch (error) {
        console.error(error);
        alert("Network error. Please try again.");
      }
  
    });
  
  });
  </script>
 
</body>
</html>